C51 COMPILER V9.52.0.0   __________                                                        02/07/2016 08:39:00 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE __________
OBJECT MODULE PLACED IN Õ®”√∂® ±∆˜.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Õ®”√∂® ±∆˜.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

*** WARNING C500 IN LINE 1 OF Õ®”√∂® ±∆˜.c: LICENSE ERROR (R207(3): REGISTRY READ ERROR)

   1          #include <reg52.h>
   2          #include "delay.h"
   3          #include "music.h"
   4          
   5          sbit KEY1=P3^6;  //Ê®°Âºè-Êó∂Èó¥
   6          sbit KEY2=P3^7;  //Â∫îÁî®Á°ÆËÆ§
   7          char apply_key=0;
   8          unsigned char mode_key=2;
   9          unsigned char num_key=25;
  10          char flag=0;
  11          char flag1=0;
  12          char LED[]={0xff,0xfd,0xf7,0xdf,0x7f,0xfe,0xfb,0xef,0xbf};
  13          char LED1[]={0x7f,0xbf,0x3f};
  14          
  15          void Init_Timer1(void)
  16          {
  17   1       TMOD |= 0x10;    //‰ΩøÁî®Ê®°Âºè1Ôºå16‰ΩçÂÆöÊó∂Âô®Ôºå‰ΩøÁî®"|"Á¨¶Âè∑ÂèØ‰ª•Âú®‰ΩøÁî®Â§ö‰∏™ÂÆöÊó∂Âô®Êó∂‰∏çÂèó
             -ÂΩ±Âìç
  18   1       TH1=0x00;        //ÁªôÂÆöÂàùÂÄºÔºåËøôÈáå‰ΩøÁî®ÂÆöÊó∂Âô®ÊúÄÂ§ßÂÄº‰ªé0ÂºÄÂßãËÆ°Êï∞‰∏ÄÁõ¥Âà∞65535Ê∫¢Âá∫
  19   1       TL1=0x00;
  20   1       EA=1;            //ÊÄª‰∏≠Êñ≠ÊâìÂºÄ
  21   1       ET1=1;           //ÂÆöÊó∂Âô®‰∏≠Êñ≠ÊâìÂºÄ
  22   1       TR1=1;           //ÂÆöÊó∂Âô®ÂºÄÂÖ≥ÊâìÂºÄ
  23   1      }
  24          
  25          void main(){
  26   1        Init_Timer1();
  27   1        KEY1=1;
  28   1        KEY2=1;
  29   1        P0=LED[mode_key];
  30   1        P2=255-num_key;
  31   1        P2=~P2;
  32   1        P2|=~LED1[apply_key];
  33   1        P2=~P2;
  34   1        while (2!=apply_key) {
  35   2          if(!KEY1){
  36   3            DelayMs(10);
  37   3            if(!KEY1){
  38   4              while(!KEY1);{
  39   5                if(0==apply_key){
  40   6                  mode_key+=1;//1,Áßí;2ÂàÜ;3Â∞èÊó∂;
  41   6                  if(5==mode_key){
  42   7                    mode_key=1;
  43   7                  }
  44   6                  P0=LED[mode_key];
  45   6                }else if(1==apply_key){
  46   6                  if(0==flag1){
  47   7                    flag1=1;
  48   7                    num_key=0;
  49   7                  }
  50   6                  num_key+=1;
  51   6                  if (60==num_key){
  52   7                    num_key=0;
  53   7                  }
C51 COMPILER V9.52.0.0   __________                                                        02/07/2016 08:39:00 PAGE 2   

  54   6                  P2=255-num_key;
  55   6                  P2=~P2;
  56   6                  P2|=~LED1[apply_key];
  57   6                  P2=~P2;
  58   6                }
  59   5                goto end0;
  60   5              }
  61   4            }
  62   3          }
  63   2            end0:
  64   2          if(!KEY2){
  65   3            DelayMs(10);
  66   3            if(!KEY2){
  67   4              while(!KEY2);{
  68   5                apply_key+=1;//0,Ê®°Âºè;1,Êó∂Èó¥Êï∞;2,ÈÄÄÂá∫ÈÄâÊã©
  69   5                if(4==mode_key){
  70   6                  apply_key=2;
  71   6                }
  72   5                // if(2==mode_key&&25==num_key){
  73   5                //   apply_key=2;
  74   5                // }
  75   5                P2=255-num_key;
  76   5                P2=~P2;
  77   5                P2|=~LED1[apply_key];
  78   5                P2=~P2;
  79   5                goto end1;
  80   5              }
  81   4            }
  82   3          }
  83   2          end1:;
  84   2        }
  85   1      
  86   1        if(1==mode_key){
  87   2          DelaySec(num_key);
  88   2        }else if (2==mode_key){
  89   2          DelayMin(num_key);
  90   2        }else if (3==mode_key){
  91   2          DelayHor(num_key);
  92   2        }else if (4==mode_key){
  93   2          num_key=10;
  94   2          P2=255-num_key;
  95   2          P2=~P2;
  96   2          P2|=~LED1[apply_key];
  97   2          P2=~P2;
  98   2          P0=LED[2];
  99   2          DelayMin(10);
 100   2        }
 101   1        flag=1;
 102   1        music();
 103   1      }
 104          
 105          /*------------------------------------------------
 106                           ÂÆöÊó∂Âô®‰∏≠Êñ≠Â≠êÁ®ãÂ∫è
 107          ------------------------------------------------*/
 108          void Timer1_isr(void) interrupt 3 using 1
 109          {
 110   1        char j;
 111   1       TH1=0x00;     //ÈáçÊñ∞ËµãÂÄº
 112   1       TL1=0x00;
 113   1       if (1==flag){
 114   2         j++;
 115   2         P0=LED[j];       //LEDÈó™ÁÉÅ
C51 COMPILER V9.52.0.0   __________                                                        02/07/2016 08:39:00 PAGE 3   

 116   2         if(7==j){
 117   3           j=0;
 118   3         }
 119   2        }
 120   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    298    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     17       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
