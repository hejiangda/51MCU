C51 COMPILER V9.52.0.0   25__________                                                      02/06/2016 00:04:11 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE 25__________
OBJECT MODULE PLACED IN 25∑÷÷”∂® ±∆˜.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 25∑÷÷”∂® ±∆˜.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

*** WARNING C500 IN LINE 1 OF 25∑÷÷”∂® ±∆˜.c: LICENSE ERROR (R207(3): REGISTRY READ ERROR)

   1          #include <reg52.h>
   2          sbit KEY1=P3^6;  //ÂÆö‰πâÊåâÈîÆËæìÂÖ•Á´ØÂè£
   3          sbit KEY2=P3^7;  //ÂÆö‰πâÊåâÈîÆËæìÂÖ•Á´ØÂè£
   4          sbit      SPK=P1^2;
   5          unsigned char Timer0_H,Timer0_L,Time;
   6          char happy;
   7          
   8          void DelayUs2x(unsigned char t)
   9          {
  10   1       while(--t);
  11   1      }
  12          
  13          void DelayMs(unsigned int t)
  14          {
  15   1      
  16   1       while(t--)
  17   1       {
  18   2           DelayUs2x(245);
  19   2         DelayUs2x(245);
  20   2       }
  21   1      }
  22          void DelayMin(unsigned int t){
  23   1        while(t--){
  24   2          DelayMs(60000);
  25   2        }
  26   1      }
  27          
  28          void music();
  29          void key();
  30          
  31          void main() {
  32   1        /* code */
  33   1        P0=0x00;
  34   1        P2=0x00;
  35   1        key();
  36   1        P0=0xff;
  37   1        P2=0xff;
  38   1        if(happy==0){
  39   2          P0=0xfe;
  40   2          DelayMin(25);
  41   2        }else if (happy==1){
  42   2          P2=0xfe;
  43   2          DelayMin(10);
  44   2        }
  45   1        P0=0xff;
  46   1        P2=0xff;
  47   1        // DelayMin(1);
  48   1        // DelayMs(6000);
  49   1        music();
  50   1      
  51   1        // DelayMin(1);
  52   1      }
  53          
  54          
C51 COMPILER V9.52.0.0   25__________                                                      02/06/2016 00:04:11 PAGE 2   

  55          // ------------------------------------------------*/
  56          void delay(unsigned char t)
  57          {
  58   1          unsigned char i;
  59   1        for(i=0;i<t;i++)
  60   1            DelayMs(250);
  61   1          TR0=0;
  62   1       }
  63          /*------------------------------------------------
  64                         ÂÆöÊó∂Âô®0‰∏≠Êñ≠
  65          ------------------------------------------------*/
  66          void TIM0_ISR() interrupt 1
  67          {
  68   1       TR0=0;
  69   1       SPK=!SPK;
  70   1       TH0=Timer0_H;
  71   1       TL0=Timer0_L;
  72   1       TR0=1;
  73   1       }
  74          /*------------------------------------------------
  75                          Ê≠åÊõ≤Â§ÑÁêÜÂáΩÊï∞
  76          ------------------------------------------------*/
  77          void Song()
  78          {
  79   1       TH0=Timer0_H;//ËµãÂÄºÂÆöÊó∂Âô®Êó∂Èó¥ÔºåÂÜ≥ÂÆöÈ¢ëÁéá
  80   1       TL0=Timer0_L;
  81   1       TR0=1;       //ÊâìÂºÄÂÆöÊó∂Âô®
  82   1       delay(Time); //Âª∂Êó∂ÊâÄÈúÄË¶ÅÁöÑËäÇÊãç
  83   1       }
  84          
  85          
  86          void music(){
  87   1      
  88   1      
  89   1        code unsigned char MUSIC[]={          6,2,3,      5,2,1,      3,2,2,    5,2,2,    1,3,2,    6,2,1,    5,
             -2,1,
  90   1                                              6,2,4,      3,2,2,      5,2,1,    6,2,1,    5,2,2,  3,2,2,    1,2,
             -1,
  91   1                                              6,1,1,      5,2,1,      3,2,1,  2,2,4,    2,2,3,  3,2,1,    5,2,2,
  92   1                                              5,2,1,      6,2,1,      3,2,2,  2,2,2,    1,2,4,  5,2,3,    3,2,1,
  93   1                                              2,2,1,      1,2,1,      6,1,1,  1,2,1,    5,1,6,  0,0,0
  94   1                                              };
  95   1                                 // Èü≥Èò∂È¢ëÁéáË°® È´òÂÖ´‰Ωç
  96   1        code unsigned char FREQH[]={
  97   1                                        0xF2,0xF3,0xF5,0xF5,0xF6,0xF7,0xF8,
  98   1                                        0xF9,0xF9,0xFA,0xFA,0xFB,0xFB,0xFC,0xFC, //1,2,3,4,5,6,7,8,i
  99   1                                        0xFC,0xFD,0xFD,0xFD,0xFD,0xFE,
 100   1                                        0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFF,
 101   1                                       } ;
 102   1                                 // Èü≥Èò∂È¢ëÁéáË°® ‰ΩéÂÖ´‰Ωç
 103   1        code unsigned char FREQL[]={
 104   1                                         0x42,0xC1,0x17,0xB6,0xD0,0xD1,0xB6,
 105   1                                         0x21,0xE1,0x8C,0xD8,0x68,0xE9,0x5B,0x8F, //1,2,3,4,5,6,7,8,i
 106   1                                         0xEE,0x44, 0x6B,0xB4,0xF4,0x2D,
 107   1                                         0x47,0x77,0xA2,0xB6,0xDA,0xFA,0x16,
 108   1                                        };
 109   1        /*---------------------------*/
 110   1         {
 111   2      
 112   2         unsigned char k,i,j;
 113   2         TMOD|=0x01; //ÁΩÆÂÆöÊó∂Âô®0Â∑•‰ΩúÊñπÂºè1
 114   2         EA=1;       //ÊâìÂºÄÂÖ®Â±Ä‰∏≠Êñ≠
C51 COMPILER V9.52.0.0   25__________                                                      02/06/2016 00:04:11 PAGE 3   

 115   2         ET0=1;      //ÊâìÂºÄÂÆöÊó∂0‰∏≠Êñ≠
 116   2         while(1)
 117   2              {
 118   3                if(happy==0){
 119   4                  P0=0xaa;
 120   4                }else if(happy==1){
 121   4                  P2=0xd7;
 122   4                }
 123   3               i=0;
 124   3               while(i<100)
 125   3                  {         //Èü≥‰πêÊï∞ÁªÑÈïøÂ∫¶ ÔºåÂî±ÂÆå‰ªéÂ§¥ÂÜçÊù•
 126   4                    k=MUSIC[i]+7*MUSIC[i+1]-1;//ÂéªÈü≥Á¨¶ÊåØËç°È¢ëÁéáÊâÄÈúÄÊï∞ÊçÆ
 127   4                    Timer0_H=FREQH[k];
 128   4                    Timer0_L=FREQL[k];
 129   4                    Time=MUSIC[i+2];          //ËäÇÊãçÊó∂Èïø
 130   4                    i=i+3;
 131   4                    Song();
 132   4                    // P0=0xff;
 133   4                   }
 134   3               }
 135   2          }
 136   1      }
*** WARNING C280 IN LINE 112 OF 25∑÷÷”∂® ±∆˜.c: 'j': unreferenced local variable
 137          
 138          void key ()
 139          {
 140   1      
 141   1        KEY1=1;
 142   1        KEY2=1;
 143   1      
 144   1        while (1)         //‰∏ªÂæ™ÁéØ
 145   1          {
 146   2            if(!KEY1)  //Â¶ÇÊûúÊ£ÄÊµãÂà∞‰ΩéÁîµÂπ≥ÔºåËØ¥ÊòéÊåâÈîÆÊåâ‰∏ã
 147   2              {
 148   3             DelayMs(10); //Âª∂Êó∂ÂéªÊäñÔºå‰∏ÄËà¨10-20ms
 149   3               if(!KEY1)     //ÂÜçÊ¨°Á°ÆËÆ§ÊåâÈîÆÊòØÂê¶Êåâ‰∏ãÔºåÊ≤°ÊúâÊåâ‰∏ãÂàôÈÄÄÂá∫
 150   3               {
 151   4                  while(!KEY1);//Â¶ÇÊûúÁ°ÆËÆ§Êåâ‰∏ãÊåâÈîÆÁ≠âÂæÖÊåâÈîÆÈáäÊîæÔºåÊ≤°ÊúâÈáäÊîæÂàô‰∏ÄÁõ¥Á≠âÂæÖ
 152   4                   {
 153   5                  //  LED=!LED;//ÈáäÊîæÂàôÊâßË°åÈúÄË¶ÅÁöÑÁ®ãÂ∫è
 154   5                  happy=0;
 155   5                  goto a;
 156   5                }}}
 157   2      
 158   2          if(!KEY2)  //Â¶ÇÊûúÊ£ÄÊµãÂà∞‰ΩéÁîµÂπ≥ÔºåËØ¥ÊòéÊåâÈîÆÊåâ‰∏ã
 159   2            {
 160   3           DelayMs(10); //Âª∂Êó∂ÂéªÊäñÔºå‰∏ÄËà¨10-20ms
 161   3             if(!KEY2)     //ÂÜçÊ¨°Á°ÆËÆ§ÊåâÈîÆÊòØÂê¶Êåâ‰∏ãÔºåÊ≤°ÊúâÊåâ‰∏ãÂàôÈÄÄÂá∫
 162   3             {
 163   4                while(!KEY2);//Â¶ÇÊûúÁ°ÆËÆ§Êåâ‰∏ãÊåâÈîÆÁ≠âÂæÖÊåâÈîÆÈáäÊîæÔºåÊ≤°ÊúâÈáäÊîæÂàô‰∏ÄÁõ¥Á≠âÂæÖ
 164   4                 {
 165   5                //  LED=!LED;//ÈáäÊîæÂàôÊâßË°åÈúÄË¶ÅÁöÑÁ®ãÂ∫è
 166   5                happy=1;
 167   5                goto a;
 168   5              }
 169   4            }
 170   3          }
 171   2        }
 172   1      
 173   1      a:;
 174   1      }

C51 COMPILER V9.52.0.0   25__________                                                      02/06/2016 00:04:11 PAGE 4   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    284    ----
   CONSTANT SIZE    =    158    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
